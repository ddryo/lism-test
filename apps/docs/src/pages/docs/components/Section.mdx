import { Container, Section, SectionBody, SectionHeader, SectionFooter } from '@loos/lism-core';

# Section

コンテンツエリアを切り替えたり、背景効果のあるエリアを作るためのセクショニングモジュール.


- `<Section>`
	- `<SectionBody>`
	- `<SectionHeader>`
	- `<SectionFooter>`

## 構造
```
.b--section
	- `[divider]`
	- \[MediaLayer, FilterLayer\]
	- `__inner` : display:grid. ブロック設置のpadding, gap設定はここに適用される
		- \[header\]
		- \[body\]
		- \[footer\]
	- \[divider\]
```

## Props

- `<Section>`
	- `alignfull`: デフォルトでtrue
	- `innerProps`: `__inner` に付与するプロパティ. 共通Propsが使用できます。
	- `media`
	- `filter`
	- `minH`
	- `isFullScreen`
- `<SectionBody>`
	- `isFlow`: デフォルトでtrue
	- `isConstrained`: デフォルトでtrue
	- `hasGutter`: デフォルトでtrue
- `<SectionHeader>`
- `<SectionFooter>`

## point
- paddingの付け方に注意。
	- dividerある時、`<Section>`自身にpaddingを設定すると崩れます。
	- `<SectionBody>`はデフォルトで`hasGutter`を持つので、X方向のpaddingをつける場合は`hasGutter={false}`で打ち消してください。
		- 何もせず`<Section>`や`<Section>`の`innerProps`に`p`を指定すると、`__body`の 左右には`hasGutter`による余白も余分に発生します。
		- 何もせず`<SectionBody>`に`p`を指定すると、内部の`alignfull`なコンテンツの幅が`__body`に一致しなくなります。
	
- また、`<Section>`の`alignfull`を打ち消して使う場合も、`SectionBody`の `hasGutter`を`false`にセットする必要があります。

## 検討
- isConstrained, hasGutterを一括でオフにできるようなprop？

{/* ## ブロック化した時の設定項目

- padding設定 (初期設定:0) (初期状態のY方向余白はContentにあたるBoxにセットしておく)
- SectionBody → Box なので子ブロックとしてSectionに固定配置。
	- sidePadding, constrainedなども SectionBody で使える。（Section 全幅の場合のみ?）
	- それか、親ブロック側で設定を用意して、 `__content` で出力されるようにするべきか?
- 背景メディアの設定
- 境界線
- min-height: 高さ指定する|コンテンツに合わせる( auto )|windowフィットさせる, か。
	→「コンテンツに合わせる」はいらなくないか？→ 高さに 0 や auto 指定してもらえばいい。
		→ わかりやすいのであっていい。さらに、autoならjustify設定非表示にしたりもできる？

- ブロック化した時
	- Section > __body がインナーブロックエリア。'
		- ~~Content, Header, Footerだけを直下に配置できるようにする？~~
		- なんでも入れれる。
		- 初期配置で Content（Boxに初期プロパティ当てただけのもの）がある。
			- 初期プロパティ： sidePadding,constraind, marginY:auto paddingY:50 な状態
			- Section > Box(Content用の初期設定付き) > 見出しとダミーテキストを初期配置？
	- 境界線どうする? → サイドバーから設定
	- SectionBodyに当たる部分を単純に初期設定付きのBoxにするか、ブロックをBoxのバリエーション？みたいな感じで別ブロックとして用意するかは要検討。

	- header,body,footer のgridエリアをもつレイアウトプリミティブを作る？ */}

## Import

```js
import { Section, SectionBody, SectionHeader, SectionFooter } from '@loos/lism-core';
```

## DEMO

<Demo>
	<Demo.Title>Sectionの例</Demo.Title>
	<Demo.Preview resize alignfull>
		<Section c="dimgray" bgc="whitesmoke" py={40}>
			<SectionBody>
				<h3>見出し</h3>
				<DammyText />
				<p>Lorem ipsum, dolor sit amet consectetur adipisicing elit.</p>
			</SectionBody>
		</Section>
	</Demo.Preview>
	<Demo.Code alignfull>
		```jsx
		<Section c="dimgray" bgc="whitesmoke" py={40}>
			<SectionBody>
				<h3>...</h3>
				<p>...</p>
			</SectionBody>
		</Section>
		```
	</Demo.Code>
</Demo>

<Alert preset="point">
`isFlow isConstrained hasGutter`なエリア(メインコンテンツエリア)で使用されることを想定しています。
</Alert>

<Demo>
	<Demo.Title>Section外との関係</Demo.Title>
	<Demo.Preview resize alignfull py={50}>
		<Container isFlow isConstrained hasGutter>
			<p>...セクション外のコンテンツ...</p>
			<Section c="dimgray" bgc="whitesmoke" py={40}>
				<SectionBody>
					<h3>見出し</h3>
					<DammyText />
					<DammyText length="m" />
				</SectionBody>
			</Section>
			<p>...セクション外のコンテンツ...</p>
		</Container>
	</Demo.Preview>
	<Demo.Code alignfull>
		```jsx
		<Container isFlow isConstrained hasGutter>
			<p>...セクション外のコンテンツ...</p>
			<Section c="dimgray" bgc="whitesmoke" py={40}>
				<SectionBody>
					<h3>見出し</h3>
					<DammyText />
					<DammyText length="m" />
				</SectionBody>
			</Section>
			<p>...セクション外のコンテンツ...</p>
		</Container>
		```
	</Demo.Code>
</Demo>

<Demo>
	<Demo.Title>SectionHeader, SectionFooterの設置例</Demo.Title>
	<Demo.Preview resize alignfull>
		<Section c="dimgray" bgc="whitesmoke">
			<SectionHeader bd="guide">
				<div>Header</div>
			</SectionHeader>
			<SectionBody py={40} bd="guide">
				<h3>見出し</h3>
				<DammyText />
				<DammyText length="m" />
			</SectionBody>
			<SectionFooter bd="guide">
				<div>Footer</div>
			</SectionFooter>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section c="dimgray" bgc="whitesmoke">
			<SectionHeader bd="guide">
				<div>Header</div>
			</SectionHeader>
			<SectionBody py={40} bd="guide">
				<h3>...</h3>
				<p>...</p>
			</SectionBody>
			<SectionFooter bd="guide">
				<div>Footer</div>
			</SectionFooter>
		</Section>
		```
	</Demo.Code>
</Demo>

<Demo>
	<Demo.Title>Header, Footer内のコンテンツ幅をBodyに揃える例</Demo.Title>
	<Demo.Preview resize alignfull>
		<Section c="dimgray" bgc="whitesmoke" innerProps={{ gap: 40 }}>
			<SectionHeader py={20} isConstrained hasGutter bd="guide">
				<div>Header</div>
			</SectionHeader>
			<SectionBody py={40} bd="guide">
				<h3>見出し</h3>
				<DammyText />
				<DammyText length="m" />
			</SectionBody>
			<SectionFooter py={20} isConstrained hasGutter bd="guide">
				<div>Footer</div>
			</SectionFooter>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section c="dimgray" bgc="whitesmoke" innerProps={{ gap: 40 }}>
			<SectionHeader py={20} isConstrained hasGutter bd="guide">
				<div>Header</div>
			</SectionHeader>
			<SectionBody py={40} bd="guide">
				<h3>...</h3>
				<p>...</p>
			</SectionBody>
			<SectionFooter py={20} isConstrained hasGutter bd="guide">
				<div>Footer</div>
			</SectionFooter>
		</Section>
		```
	</Demo.Code>
</Demo>


`<SectionBody>` にも padding を付けれますが、その時は hasGutter を false にしないと内部のalignfullの幅がおかしくなることに注意してください。

<Demo>
	<Demo.Title>hasGutterそのままで`SectionBody`に`p`を指定した場合</Demo.Title>
	<Demo.Preview alignfull resize p={20}>
		<Section c="dimgray" bgc="whitesmoke">
			<SectionBody p={20}>
				<DammyText />
				<Box alignfull bd="double 5px #555">This is alignfull Box.</Box>
				<DammyText />
			</SectionBody>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section c="dimgray" bgc="whitesmoke">
			<SectionBody p={20}>
				<DammyText />
				<Box alignfull bd="double 5px #555">This is alignfull Box.</Box>
				<DammyText />
			</SectionBody>
		</Section>
		```
	</Demo.Code>
</Demo>

<Demo>
	<Demo.Title>`hasGutter={false}`にした場合</Demo.Title>
	<Demo.Preview alignfull resize p={20}>
		<Section c="dimgray" bgc="whitesmoke">
			<SectionBody p={20} hasGutter={false}>
				<DammyText />
				<Box alignfull bd="double 5px #555">This is alignfull Box.</Box>
				<DammyText />
			</SectionBody>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section c="dimgray" bgc="whitesmoke">
			<SectionBody p={20} hasGutter={false}>
				<DammyText />
				<Box alignfull bd="double 5px #555">This is alignfull Box.</Box>
				<DammyText />
			</SectionBody>
		</Section>
		```
	</Demo.Code>
</Demo>


<Demo>
	<Demo.Title>`minH`で高さ指定。SectionBody の `isConstrained` を`false`にして内部のコンテンツも全幅に</Demo.Title>
	<Demo.Preview alignfull resize p={20}>
		<Section
			minH="50vh"
			c="white"
			p={20}
			media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
			filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
		>
			<SectionBody hasGutter={false} isConstrained={false}>
				<DammyText length="l" />
			</SectionBody>
			<SectionFooter isFlex  jc="flex-end">
				<p>Lorem ipsum text...</p>
			</SectionFooter>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section
			minH="50vh"
			c="white"
			p={20}
			media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
			filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
		>
			<SectionBody hasGutter={false} isConstrained={false}>
				<DammyText length="l" />
			</SectionBody>
			<SectionFooter isFlex  jc="flex-end">
				<p>Lorem ipsum text...</p>
			</SectionFooter>
		</Section>
		```
	</Demo.Code>
</Demo>

## フルスクリーンモード

`isFullScreen`を指定すると、高さが画面いっぱいに広がります。

- Memo: minH のプリセットに `fullscreen` を使うようにした方が汎用性が高いかも。
- Heroコンテンツは vh ではなく svh使いたい。
	- WPテーマなら、特定のクラス直下の`:first-child`で対応できるが、そういうのができない。
	- → キーワードとして `fullscreen`(100vh)/`hero`(100svh) で分けて指定できるようにする...？

<Demo>
	<Demo.Title>`isFullScreen`</Demo.Title>
	<Demo.Preview alignfull resize p={20}>
		<Section isFullScreen c="dimgray" bgc="whitesmoke">
			<SectionHeader bd="guide" p={20}>
				<p>SectionHeader</p>
			</SectionHeader>
			<SectionBody>
				<h3>見出し</h3>
				<DammyText />
				<DammyText length="m" />
			</SectionBody>
			<SectionFooter bd="guide" p={20}>
				<p>SectionFooter</p>
			</SectionFooter>
		</Section>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<Section isFullScreen c="dimgray" bgc="whitesmoke">
			<SectionHeader bd="guide" p={20}>
				<p>SectionHeader</p>
			</SectionHeader>
			<SectionBody>
				<h3>見出し</h3>
				<DammyText />
				<DammyText length="m" />
			</SectionBody>
			<SectionFooter bd="guide" p={20}>
				<p>SectionFooter</p>
			</SectionFooter>
		</Section>
		
		```
	</Demo.Code>
</Demo>


## 境界線の設定

`divider`に`{top, bottom}`形式で境界線を指定できます。
`<Divider>`に指定できるオプションをそのまま指定できます。

Memo: top,bottomに分けずに指定できるようにする → 同じオプションで上下にセット

<Demo>
	<Demo.Title>Section外との関係</Demo.Title>
	<Demo.Preview resize alignfull py={50}>
		<Container isFlow isConstrained hasGutter>
			<p>...セクション外のコンテンツ...</p>
			<Section
					minH="30em"
					filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
					media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
					divider={{
						top: { type: "wave3", color: "#fff" },
						bottom: { type: "wave3", color: "#fff" },
					}}
				>
					<SectionBody py={40} c="white">
						<DammyText length="l" />
					</SectionBody>
				</Section>
			<p>...セクション外のコンテンツ...</p>
		</Container>
	</Demo.Preview>
	<Demo.Code alignfull>
```jsx {7-10}
<Container isFlow isConstrained hasGutter>
	<p>...セクション外のコンテンツ...</p>
	<Section
			minH="30em"
			filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
			media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
			divider={{
				top: { type: "wave3", color: "#fff" },
				bottom: { type: "wave3", color: "#fff" },
			}}
		>
			<SectionBody py={40} c="white">
				<DammyText length="l" />
			</SectionBody>
		</Section>
	<p>...セクション外のコンテンツ...</p>
</Container>
```
	</Demo.Code>
</Demo>


<Demo>
	<Demo.Title>下側にアニメーション付きのDividerを使用</Demo.Title>
	<Demo.Preview resize alignfull p={{ bottom: 50 }}>
		<Container isFlow isConstrained hasGutter>
			<Section
					isFullScreen
					c="white"
					filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
					media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
					divider={{ bottom: { type: "wave3", color: "#fff", isAnimation: true } }}
				>
					<SectionHeader bd="guide" p={20}>
						<p>SectionHeader</p>
					</SectionHeader>
					<SectionBody c="white">
						<DammyText length="l" />
					</SectionBody>
				</Section>
			<p>...セクション外のコンテンツ...</p>
		</Container>
	</Demo.Preview>
	<Demo.Code alignfull>
```jsx {7}
<Container isFlow isConstrained hasGutter>
	<Section
		isFullScreen
		c="white"
		filter={{ blur: "4px", bgc: "rgba(0,0,0,0.5)" }}
		media={{ src: "/img/demo-img.jpeg", alt: "", width: 960, height: 640 }}
		divider={{ bottom: { type: "wave3", color: "#fff", isAnimation: true } }}
	>
		<SectionHeader bd="guide" p={20}>
			<p>SectionHeader</p>
		</SectionHeader>
		<SectionBody c="white">
			<DammyText length="l" />
		</SectionBody>
	</Section>
	<p>...セクション外のコンテンツ...</p>
</Container>
```
	</Demo.Code>
</Demo>
