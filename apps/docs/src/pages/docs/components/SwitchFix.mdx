import { SwitchFix, Item } from '@loos/lism-core';


# SwitchFix

2つの子要素のうち、**片方の横幅を固定してもう片方の横幅が伸縮する**横並びレイアウトで、かつ、**指定したブレイクポイントで縦並びに切り替わるレイアウト**を組めるモジュールです。


<Note preset="note" caption={<><a href="/docs/components/FluidFix">{`<FluidFix>`}</a>と異なる点</>}>
- 折返しタイミングをコンテナクエリで制御します
- 横並び時の固定幅コンテンツが縦並びになった時に上に来るか下にくるかを選択できます。
</Note>


<Demo>
	<Demo.Title>対応するHTML構造</Demo.Title>
	<Demo.Code>
	```jsx
	<div class="l--switchFix">
		<div class="is--item">...</div>
		<div class="is--item -ga:fix">...</div>
	</div>
	```
	</Demo.Code>
</Demo>


## Props

- `fixW` : Fix要素側の横幅
	- デフォルト値は `auto` (要検討)。
- `fix`:FIX要素の位置を指定。`data-fix`属性に指定した文字列が出力されます。
		- 横並びの位置を `left` or `right`で,
		- 縦並びの位置を `up` or `down`で指定する。
			- 'none', modal?
- breakPoint : 横並び・縦並びの切り替えポイントを指定できる。
	- 初期値は `sm`で、`sm`または`md`がデフォルトで有効です。
- その他、[`<Grid>`で使えるprops](/docs/components/Grid#props)が使えます。
{/* - customBreakPoint (未定) */}


## 使用時の注意点

<Alert preset="info">
子要素の1つに `grid-area:fix` の指定が必須です.
</Alert>

固定幅にしたい要素に対して`<Item area="fix">`を使うか、`<Box gridItem={{area:"fix"}}>`を使用してください。

( memo → ブロック化する時は、`area="fix"`付きの`<Item>`になっている専用の子ブロックを用意する。)

{/* Memo: grid-areaで場所を指定する理由: → DOM自体の順番を自由にできるため。（大きいサイドバー要素を左に固定するけどDOMの順番はあとに回したい、ということがある。） */}


## Import

```js
import { SwitchFix } from '@loos/lism-core';
```


## DEMO

<Demo>
	<Demo.Title>
		`fix="right down"` (初期値)
	</Demo.Title>
	<Demo.Preview resize p={20}>
		<SwitchFix fix="right down" lismState={["has--itemGuide"]}>
			<Item>Main Contents</Item>
			<Item area="fix" bgc="pale">Side</Item>
		</SwitchFix>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<SwitchFix fix="right down">
			<Item>Main Contents</Item>
			<Item area="fix" bgc="pale">Side</Item>
		</SwitchFix>
		```
	</Demo.Code>
</Demo>


<Demo>
	<Demo.Title>
		`fix="left down"`, `fixW` を指定
	</Demo.Title>
	<Demo.Preview resize p={20}>
		<SwitchFix fix="left down" fixW='16em' gap={20} lismState={["has--itemGuide"]}>
			<Item>Main Contents</Item>
			<Item area="fix" bgc="pale">Side</Item>
		</SwitchFix>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<SwitchFix fix="left down" fixW='16em' gap={20}>
			<Item>Main Contents</Item>
			<Item area="fix" bgc="pale">Side</Item>
		</SwitchFix>
		```
	</Demo.Code>
</Demo>

### `fix`指定パターン一覧

export const SwitchFixDemos = () => {
	return (
		<>
			{["left up", "left down", "right up", "right down"].map((datFix) => (
				<Demo key={datFix}>
					<Demo.Title><code>fix="{datFix}"</code></Demo.Title>
					<Demo.Preview resize p={20}>
						<SwitchFix fix={datFix} gap={20} lismState={["has--itemGuide"]}>
							<Item>Main Contents</Item>
							<Item area="fix" bgc="pale">Side</Item>
						</SwitchFix>
					</Demo.Preview>
				</Demo>
			))}
		</>
	);
}

<SwitchFixDemos />


### 並び切り替えポイントの指定

`breakPoint="{bpName}"`で指定。
（デフォルトは`sm`.）

`sm`, `md`をデフォルトでサポートしていますが、`lg`などを指定することで`data-bp="lg"`を出力させることができるので、CSSを追加していただければお好きなポイントで切り替えるようにカスタマイズすることもできます。

<Demo>
	<Demo.Title>`@sm`</Demo.Title>
	<Demo.Preview resize p={20}>
		<SwitchFix fix="left up" breakPoint="sm">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<SwitchFix fix="left up" breakPoint="sm">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
		```
	</Demo.Code>
</Demo>

<Demo>
	<Demo.Title>`@md`</Demo.Title>
	<Demo.Preview resize p={20}>
		<SwitchFix fix="left up" breakPoint="md">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<SwitchFix fix="left up" breakPoint="md">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
		```
	</Demo.Code>
</Demo>


{/* <Demo>
	<Demo.Title>`@lg`</Demo.Title>
	<Demo.Preview resize p={20}>
		<SwitchFix fix="left up" breakPoint="lg">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
	</Demo.Preview>
	<Demo.Code>
		```jsx
		<SwitchFix fix="left up" breakPoint="lg">
			<Item>Main Contents</Item>
			<Item area="fix">Side</Item>
		</SwitchFix>
		```
	</Demo.Code>
</Demo> */}


{/* ### カスタムブレイクポイントの指定
コンポーネントライブラリでどう実装するか検討中... */}
