# Design System

Lismがどのようなデザインシステムになっているかを説明します。


## デザインシステムの構成軸

以下の3点がLismの主軸です。

1. レイアウトモジュール
	- WEBサイトにおける主要なレイアウト要素を細分化し、**1モジュールにつき1つの役割**になるように定義しています。

2. トークンとプリセット
	- 主要なプロパティに対して、段階的なプリセット値やセマンティックなキーワードでトークンを定義しています。

3. ユーティリティクラス
	- 主要なプロパティに対して、よく使われる値やトークンに合わせたユーティリティクラスを定義しています。
	- 汎用的な値はクラスのセットだけで完了できるように。
	- ブレイクポイントへの対応もユーティリティクラスが重要な役割を担っています。


## レイアウトモジュール

Lismでは、WEBサイトでよく使用されるレイアウト要素を細分化し、再利用しやすいように**プリミティブなレイアウトモジュールとして予め定義**しています。  
（Every Layout的な発想）

例えば、FlexやGridレイアウトはWEBサイトで頻繁に採用されますが、それぞれの使用箇所で何も考えずにCSSを書くと同じようなCSSを何度も何度も書くことになります。
そういったことがないように、**モジュールを使わいまわしていくだけで柔軟にレイアウトを組める**ようにするのがLismのベースの考え方です。

例えば、以下のようなモジュールを用意しています。

<Box bgc="pale" p="30">
	- おおまかなレイアウトを組むためのモジュール.
		- Stack(`.l--stack`), Columns(`.l--columns`), Layer(`.l--layer`) など。
	- よりデザインや用途が具体的なモジュール.
		- Button(`.c--button`), Card(`.c--card`), Accordion(`.c--accordion`) など。
	- 細かい要素
		- Icon(`.e--icon`), Avatar(`.c--avatar`) など
</Box>

[Reactベースのコンポーネント](/docs/components/)を配布しており、そちらを使うことをおすすめします。



## トークンとプリセット

タイポグラフィ、余白、カラー、シャドウなど、**デザインの中で重要なプロパティ**については、予め**段階的またはセマンティックなトークン**でCSS変数化し、再利用しやすいようにしています。

プリセット値を流用することで、サイトを通して**一貫性のあるデザイン**を実現でき、**コードの記述量を減らす**ことができます。あとからサイト全体の微調整を行うのも、プリセット値の変更だけでできるようになります。

また、セマンティックなトークンを定義しておくことで、複数人で開発する場合やあとから自分で見直した時、どういう意図をもってその値がセットされているかが一目で理解できるようになります。


例えば、以下のようなトークンを用意しています。

<Box bgc="pale" p="30">
	- カラー
		- `--main`, `--accent`, `--bgc--base` `--bgc--pale`
	- フォントサイズ
		- `--fz--s`, `--fz--xl`
	- スペース
		- `--s--20`, `--s--30`, `--p--box`
</Box>


## Utilityクラス

Lismでは、ユーティリティクラスも非常に重要な役割を持っています。
ざっくりとしたレイアウトをモジュール単位で組みたてたら、それぞれの細かな調整をユーティリティクラスで行います。

Lismで定義するユーティリティクラスには以下の2種類があります。

<Box bgc="pale" p="30">
1. **Prop Utility**: 単一のCSSプロパティ用のユーティリティクラス
2. **State Utility**: レイアウトに関連する状態を示すユーティリティクラス
</Box>


### Prop Utility

**Prop Utility**は、以下の2パターンのどちらかの型で定義されています。

<Box bgc="pale" p="30">
1. `.-{prop}:{token|value}`  
	= 事前に定義したプリセット値や主要な値を利用するためのクラス(※1)  
2. `.-{prop}[@bp]:`:  
	= `var(--{prop}[--bp])` を受け取るためのクラス(※2)

<Box fz="s" bgc="b200" p='box:s' radius='3'>
	※1: 全てのトークンがユーティリティクラス化されているわけではないことに注意してください。
	※2: ブレークポイントに対応しているプロパティには限りがあります。
</Box>
</Box>


<Note preset="note" heading="例">
- `.-{prop}:{token|value}`型
	{/* - `.-p:20` → `padding:var(--s--20)` */}
	- `.-fz:l` → `font-size:var(--fz--l)`
	- `.-ta:c` → `text-align:center`
	
- `.-{prop}[@bp]:`型
	- `.-p:` → `padding:var(--p)`
	- `.-p@sm:` → `padding:var(--p--sm)`
</Note>

実際の活用例は次の通りです。

```html
<!-- ↓ プリセット値の活用 -->
<div class="-p:20">...</div>

<!-- ↓ レスポンシブ対応 -->
<div
	class="-p:10 -p@sm: -p@md:"
	style="--p--sm:var(--s--20);--p--md:var(--s--30)"
>...</div>
```

このように、Lism では**クラスと変数を書くだけでレスポンシブなレイアウト**も手軽に実現できます。

<Alert preset="warning">
標準では、ブレイクポイントごとのUtilityクラス（`.-p@sm:20`, `.-p@md:20`など）は定義していません。(ファイルサイズが肥大するため。)
</Alert>


さらに、[Reactベースのコンポーネント](/docs/components/)を活用することで、以下のように非常にシンプルに記述できるようになります。


```jsx
// ↓ プリセット値の活用
<Box p="20">...</Box>

// ↓ レスポンシブ対応
<Box p={[10, 20, 30]}>...</Box>
```


### State Utility

レイアウトを細分化する際に、モジュール要素としての切りわけではなく状態として切り分けた方が適切と判断したようなもの。
（より汎用的に使い回せたほうがいいと判断したもの。）

**State Utility**は、以下の2パターンのどちらかの型で定義されています。

<Box bgc="pale" p="30">
1. `.is--{state}`  
	- `.is--flow`
	- `.is--container` ...
2. `.has--{state}`:  
	- `.has--gutter`
	- `.has--layer` ...
</Box>


---


## コンテナクエリ

## コンテンツ幅の制御

