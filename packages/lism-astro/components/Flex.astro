---
import { LismProps } from './types';
import Layouter from './Layouter.astro';
import { getFlexProps } from '@loos/lism-core/lib';

// Propsの定義
interface Props extends LismProps {
	_flexName?: string;
	hasDivider?: boolean | string;
}

let { _flexName = 'flex', lismClass = {}, hasDivider, ...props } = Astro.props || {};

if (_flexName) {
	lismClass.l = `l--${_flexName}`;
}

// flex 系の props をまとめる
props = getFlexProps(props);

// stack方向 は divider が B になる
if (hasDivider && hasDivider === true) {
	if (_flexName === 'stack' || props.flex?.direction === 'column') {
		hasDivider = 'B';
	} else {
		hasDivider = 'I';
	}
}
---

<Layouter lismClass={lismClass} hasDivider={hasDivider} {...props}>
	<slot />
</Layouter>
